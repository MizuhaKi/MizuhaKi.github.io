<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>argparse</title>
  <meta name="description" content="Some examplesThe following is a simple usage example that sums integers from the command-line and writes the result to a file:parser = argparse.ArgumentParse...">
  <meta name="author" content="Mizuha Ki">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="argparse">
  <meta name="twitter:description" content="Some examplesThe following is a simple usage example that sums integers from the command-line and writes the result to a file:parser = argparse.ArgumentParse...">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="argparse">
  <meta property="og:description" content="Some examplesThe following is a simple usage example that sums integers from the command-line and writes the result to a file:parser = argparse.ArgumentParse...">
  
  <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
  <link href="/assets/images/favicon.png" rel="shortcut icon" type="image/png">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://localhost:4000/2018/08/argparse/">
  <link rel="alternate" type="application/rss+xml" title="Mizuha Ki" href="http://localhost:4000/feed.xml">
  
  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />
  
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="go Mizuha Ki's homepage" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="Mizuha Ki logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for Mizuha Ki" class="blog-button">Mizuha Ki</a></h1>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">To be or not to be, that is a question.</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="Visit blog" class="blog-button">Blog</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

  

  
  <!-- Github -->
  <li class="navigation__item">
          <a href="https://github.com/mizuhaki" title="@mizuhaki's github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  
  
  
  <!-- Twitter -->
  <li class="navigation__item">
    <a href="http://twitter.com/mizuha_ki" title="@mizuha_ki" target="_blank">
      <i class='social fa fa-twitter'></i>
      <span class="label">Twitter</span>
    </a>
  </li>
  

  
  <!-- Facebook -->
  <li class="navigation__item">
    <a href="http://facebook.com/mizuhaki1" title="@mizuhaki1" target="_blank">
      <i class='social fa fa-facebook-square'></i>
      <span class="label">Facebook</span>
    </a>
  </li>
  

  
  <!-- Instagram -->
  <li class="navigation__item">
    <a href="http://instagram.com/mizuha_ki" title="@mizuha_ki" target="_blank">
      <i class='social fa fa-instagram'></i>
      <span class="label">Instagram</span>
    </a>
  </li>
  

  <!-- RSS -->
  <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:xx@gmail.com" title="Contact me">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-disabled"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2018-08-04 00:00:00 +0800" itemprop="datePublished" class="post-meta__date date">2018-08-04</time> &#8226; <span class="post-meta__tags tags">computer science deep learning python blog</span>
    </div>
    <h1 class="post-title">argparse</h1>
  </header>

  <section class="post">
    <h2 id="some-examples">Some examples</h2>
<p>The following is a simple usage example that sums integers from the command-line and writes the result to a file:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s">'sum the integers at the command line'</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'integers'</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s">'int'</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s">'+'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">'an integer to be summed'</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'--log'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">FileType</span><span class="p">(</span><span class="s">'w'</span><span class="p">),</span>
                    <span class="n">help</span><span class="o">=</span><span class="s">'the file where the sum should be written'</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="n">args</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s'</span> <span class="o">%</span> <span class="nb">sum</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">integers</span><span class="p">))</span>
<span class="n">args</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="descriptions">Descriptions</h2>
<p>The module contains the following public classes:</p>
<ul>
  <li>ArgumentParser – The main entry point for command-line parsing. As the example above shows, the add_argument() method is used to populate the parser with actions for optional and positional arguments. Then the parse_args() method is invoked to convert the args at the command-line into an object with attributes.</li>
  <li>ArgumentError – The exception raised by ArgumentParser objects when there are errors with the parser’s actions. Errors raised while parsing the command-line are caught by ArgumentParser and emitted as command-line messages.</li>
  <li>FileType – A factory for defining types of files to be created. As the example above shows, instances of FileType are typically passed as the type= argument of add_argument() calls.</li>
  <li>Action – The base class for parser actions. Typically actions are  selected by passing strings like ‘store_true’ or ‘append_const’ to  the action= argument of add_argument(). However, for greater customization of ArgumentParser actions, subclasses of Action may be defined and passed as the action= argument.</li>
  <li>HelpFormatter, RawDescriptionHelpFormatter, RawTextHelpFormatter, ArgumentDefaultsHelpFormatter – Formatter classes which may be passed as the formatter_class= argument to the ArgumentParser constructor. HelpFormatter is the default, RawDescriptionHelpFormatter and RawTextHelpFormatter tell the parser not to change the formatting for help text, and ArgumentDefaultsHelpFormatter adds information about argument defaults to the help.</li>
</ul>

<h2 id="another-example">Another example</h2>
<p>A simple example:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
  <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s">"type"</span><span class="p">,</span> <span class="s">"bool"</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s">"true"</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
      <span class="s">"--max_steps"</span><span class="p">,</span>
      <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
      <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
      <span class="n">help</span><span class="o">=</span><span class="s">"Number of steps to run trainer."</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
      <span class="s">"--train_batch_size"</span><span class="p">,</span>
      <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
      <span class="n">default</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
      <span class="n">help</span><span class="o">=</span><span class="s">"Batch size used during training."</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
      <span class="s">"--learning_rate"</span><span class="p">,</span>
      <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
      <span class="n">default</span><span class="o">=</span><span class="mf">0.025</span><span class="p">,</span>
      <span class="n">help</span><span class="o">=</span><span class="s">"Initial learning rate."</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
      <span class="s">"--data_dir"</span><span class="p">,</span>
      <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
      <span class="n">default</span><span class="o">=</span><span class="s">"/tmp/mnist_data"</span><span class="p">,</span>
      <span class="n">help</span><span class="o">=</span><span class="s">"Directory for storing data"</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
      <span class="s">"--ui_type"</span><span class="p">,</span>
      <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
      <span class="n">default</span><span class="o">=</span><span class="s">"curses"</span><span class="p">,</span>
      <span class="n">help</span><span class="o">=</span><span class="s">"Command-line user interface type (curses | readline)"</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
      <span class="s">"--fake_data"</span><span class="p">,</span>
      <span class="nb">type</span><span class="o">=</span><span class="s">"bool"</span><span class="p">,</span>
      <span class="n">nargs</span><span class="o">=</span><span class="s">"?"</span><span class="p">,</span>
      <span class="n">const</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
      <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
      <span class="n">help</span><span class="o">=</span><span class="s">"Use fake MNIST data for unit testing"</span><span class="p">)</span>
  <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
      <span class="s">"--debug"</span><span class="p">,</span>
      <span class="nb">type</span><span class="o">=</span><span class="s">"bool"</span><span class="p">,</span>
      <span class="n">nargs</span><span class="o">=</span><span class="s">"?"</span><span class="p">,</span>
      <span class="n">const</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
      <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
      <span class="n">help</span><span class="o">=</span><span class="s">"Use debugger to track down bad values during training"</span><span class="p">)</span>
  <span class="n">FLAGS</span><span class="p">,</span> <span class="n">unparsed</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_known_args</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@...]# python test.py <span class="nt">--max_steps</span> 100 <span class="nt">--train_batchsize</span> 128
</code></pre></div></div>

  </section>
</article>

<section class="read-more">
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">recent article</span>
       <h2 class="post-list__post-title post-title"><a href="/2018/08/tf.app.flags/" title="link to tf.app.flags">tf.app.flags</a></h2>
       <p class="excerpt">tf.app.flags defines some parameter. A simple example:import tensorflow as tfFLAGS = tf.app.flags.FLAGStf.app.flags.DEFINE_float('learning_rate', 0.01, 'Initial learning rate.')tf.app.flags.DEFINE_string('train_dir', 'tmp/train/', 'Directory where...&hellip;</p>
       <div class="post-list__meta"><time datetime="2018-08-04 00:00:00 +0800" class="post-list__meta--date date">2018-08-04</time> &#8226; <span class="post-list__meta--tags tags">computer science deep learning tensorflow blog</span><a class="btn-border-small" href=/2018/08/tf.app.flags/>read</a></div>
   </div>
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">previous article</span>
       <h2 class="post-list__post-title post-title"><a href="/2018/07/markdown-editor/" title="link to Markdown Editor">Markdown Editor</a></h2>
       <p class="excerpt">欢迎使用Markdown编辑器写博客本Markdown编辑器使用StackEdit修改而来，用它写博客，将会带来全新的体验哦：  Markdown和扩展Markdown简洁的语法  代码块高亮  图片链接和图片上传  LaTex数学公式  UML序列图和流程图  离线写博客  导入导出Markdown文件  丰富的快捷键快捷键  加粗    Ctrl + B  斜体    Ctrl + I  引用    Ctrl + Q  插入链接    Ctrl + L  插入代码    Ctrl + ...&hellip;</p>
       <div class="post-list__meta"><time datetime="2018-07-29 00:00:00 +0800" class="post-list__meta--date date">2018-07-29</time> &#8226; <span class="post-list__meta--tags tags">computer science markdown blog</span><a class="btn-border-small" href=/2018/07/markdown-editor/>read</a></div>
   </div>
   
</section>

<section class="post-comments">
  
    <div id="disqus_thread"></div>
    <script>
    
    var disqus_config = function () {
        this.page.url = "http://localhost:4000/2018/08/argparse/";
        this.page.identifier = "/2018/08/argparse/";
    };

    var disqus_shortname = 'mizuhaki';
    
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>要查看<a href="http://disqus.com/?ref_noscript"> Disqus </a>评论，请启用 JavaScript</noscript>
    
  
  
  
  
</section>


            <section class="footer">
    <footer>
    	<span class="footer__copyright">本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">由 <a href="https://jekyllrb.com">Jekyll</a> 于 2019-04-28 生成，感谢 <a href="https://www.digitalocean.com/?refcode=30ed2d146762">Digital Ocean</a> 为本站提供稳定的 VPS 服务</span>
        <span class="footer__copyright">本站由 <a href="http://github.com/MizuhaKi">@mizuhaki</a> 创建，采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/onevcat/OneV-s-Den">本站源码</a> - &copy; 2019</span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/main.js"></script>



    
  </body>

</html>
